(this["webpackJsonpinstagram-clone-react"]=this["webpackJsonpinstagram-clone-react"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(2),s=a.n(c),r=a(16),o=a.n(r),i=(a(50),a(17)),l=(a(51),a(86)),p=(a(52),function(e){var t=e.userName,a=e.caption,c=e.imageUrl;return Object(n.jsxs)("div",{className:"post",children:[Object(n.jsxs)("div",{className:"post__header",children:[Object(n.jsx)(l.a,{className:"post__avatar",alt:"userName",src:"https://www.cristianmonroy.com/wp-content/uploads/2017/11/avatars-avataaars.png"}),Object(n.jsx)("h3",{children:"Username"})]}),Object(n.jsx)("img",{className:"post__image",src:c,alt:""}),Object(n.jsxs)("h4",{className:"post__text",children:[Object(n.jsx)("strong",{children:t})," ",a]})]})}),u=a(26),j=u.a.initializeApp({apiKey:"AIzaSyBLbVNqHG0sE2ZQmL_Ccy7qPhW42OOT4yU",authDomain:"instagram-clone-react-8bcca.firebaseapp.com",projectId:"instagram-clone-react-8bcca",storageBucket:"instagram-clone-react-8bcca.appspot.com",messagingSenderId:"678211373310",appId:"1:678211373310:web:e64a30bb831e6bffd4bdaf",measurementId:"G-QMJ8M4BEJJ"}).firestore(),d=u.a.auth(),m=u.a.storage(),b=a(83),g=a(82),h=a(85),O=a(84),f=function(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(c.useState)(0),l=Object(i.a)(o,2),p=l[0],d=l[1],b=Object(c.useState)(""),g=Object(i.a)(b,2),h=g[0],f=g[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("progress",{value:p,max:"100"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter a caption",onChange:function(e){return f(e.target.value)},value:h}),Object(n.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&r(e.target.files[0])}}),Object(n.jsx)(O.a,{onClick:function(){m.ref("images/".concat(s.name)).put(s).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);d(t)}),(function(e){console.log(e.message),alert(e.message)}),(function(){m.ref("images").child(s.name).getDownloadURL().then((function(t){j.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:h,imageUrl:t,username:e}),d(0),f(""),r(null)}))}))},children:" Upload "})]})};function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var v=Object(g.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=v(),t=Object(c.useState)(x),a=Object(i.a)(t,1)[0],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(c.useState)(!1),m=Object(i.a)(u,2),g=m[0],w=m[1],_=Object(c.useState)(""),y=Object(i.a)(_,2),N=y[0],S=y[1],C=Object(c.useState)(""),k=Object(i.a)(C,2),U=k[0],I=k[1],E=Object(c.useState)(""),B=Object(i.a)(E,2),P=B[0],L=B[1],A=Object(c.useState)(""),D=Object(i.a)(A,2),F=D[0],J=D[1],T=Object(c.useState)(null),W=Object(i.a)(T,2),M=W[0],q=W[1];return Object(c.useEffect)((function(){var e=d.onAuthStateChanged((function(e){e?(console.log(e),q(e)):q(null)}));return function(){e()}}),[M,U]),Object(c.useEffect)((function(){j.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(n.jsxs)("div",{className:"app",children:[(null===M||void 0===M?void 0:M.displayName)?Object(n.jsx)(f,{userName:M.displayName}):Object(n.jsx)("h3",{children:"Sorry you need to login to upload"}),Object(n.jsx)(b.a,{open:g,onClose:function(){return w(!1)},children:Object(n.jsx)("div",{style:a,className:e.paper,children:Object(n.jsxs)("center",{children:[Object(n.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png",alt:""}),Object(n.jsxs)("form",{className:"app__signUp",children:[Object(n.jsx)(h.a,{placeholder:"Name",type:"text",value:U,onChange:function(e){return I(e.target.value)}}),Object(n.jsx)(h.a,{placeholder:"Email",type:"email",value:F,onChange:function(e){return J(e.target.value)}}),Object(n.jsx)(h.a,{placeholder:"Password",type:"password",value:P,onChange:function(e){return L(e.target.value)}}),Object(n.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(F,P).then((function(e){return e.user.updateProfile({displayName:U})})).catch((function(e){return alert(e.message)})),w(!1)},children:" Sign up "})]})]})})}),Object(n.jsx)(b.a,{open:N,onClose:function(){return S(!1)},children:Object(n.jsx)("div",{style:a,className:e.paper,children:Object(n.jsxs)("center",{children:[Object(n.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png",alt:""}),Object(n.jsxs)("form",{className:"app__signUp",children:[Object(n.jsx)(h.a,{placeholder:"Email",type:"email",value:F,onChange:function(e){return J(e.target.value)}}),Object(n.jsx)(h.a,{placeholder:"password",type:"password",value:P,onChange:function(e){return L(e.target.value)}}),Object(n.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.signInWithEmailAndPassword(F,P).catch((function(e){return alert(e.message)})),S(!1)},children:"Sign in"})]})]})})}),Object(n.jsx)("div",{className:"app__header",children:Object(n.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png",alt:""})}),M?Object(n.jsx)(O.a,{onClick:function(){return d.signOut()},children:" Logout"}):Object(n.jsxs)("div",{className:"app__loginContainer",children:[Object(n.jsx)(O.a,{onClick:function(){return S(!0)},children:" Sign in"}),Object(n.jsx)(O.a,{onClick:function(){return w(!0)},children:" Sign up"})]}),Object(n.jsx)("h1",{children:"Hello "}),o.map((function(e){var t=e.id,a=e.post;return Object(n.jsx)(p,{userName:a.userName,caption:a.caption,imageUrl:a.imageUrl},t)})),Object(n.jsx)(p,{userName:"cleverqazi",caption:"'WOW it's works",imageUrl:"https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"}),Object(n.jsx)(p,{userName:"sfsfasfi",caption:"' works",imageUrl:"https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"})]})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),_()}},[[60,1,2]]]);
//# sourceMappingURL=main.cfc2706d.chunk.js.map